<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>User.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">StockEase</a> &gt; <a href="index.source.html" class="el_package">com.stocks.stockease.model</a> &gt; <span class="el_source">User.java</span></div><h1>User.java</h1><pre class="source lang-java linenums">package com.stocks.stockease.model;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.Table;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

/**
 * Domain entity representing a User account in the system.
 * 
 * Persisted to the &quot;app_user&quot; table with auto-increment ID. Stores authentication
 * credentials (hashed password) and authorization role. Username is unique,
 * enforced at database level.
 * 
 * @author Team StockEase
 * @version 1.0
 * @since 2025-01-01
 */
@Data
@Entity
@Table(name = &quot;app_user&quot;)
@NoArgsConstructor
@AllArgsConstructor
public class User {

    /**
     * Unique user identifier. Auto-generated by database (auto-increment).
     * Used as primary key for database relationships and audit trails.
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    /**
     * Unique login identifier. Required, enforced unique at database level.
     * Used for authentication and displayed in API responses.
     * Cannot be changed after initial creation.
     */
    @Column(nullable = false, unique = true)
    private String username;

    /**
     * Hashed user password. Never stored in plaintext (BCrypt hash).
     * Used by Spring Security for authentication during login.
     * Never exposed in API responses or logs.
     */
    @Column(nullable = false)
    private String password;

    /**
     * User authorization role. Determines API endpoint access permissions.
     * Valid values: &quot;ADMIN&quot; (full access) or &quot;USER&quot; (read-only access).
     * Used in @PreAuthorize(&quot;hasRole('ADMIN')&quot;) security annotations.
     */
    @Column(nullable = false)
    private String role;

    /**
     * Constructs user entity for creation (without auto-generated ID).
     * 
     * Used for new user registration. ID is omitted; database generates it via auto-increment.
     * Password must already be hashed before passing to constructor (hashing done in service layer).
     * 
     * @param username unique login name (required)
     * @param password BCrypt-hashed password (required, never plaintext)
     * @param role authorization role (required, ADMIN or USER)
     */
<span class="fc" id="L73">    public User(String username, String password, String role) {</span>
<span class="fc" id="L74">        this.username = username;</span>
<span class="fc" id="L75">        this.password = password;</span>
<span class="fc" id="L76">        this.role = role;</span>
<span class="fc" id="L77">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>