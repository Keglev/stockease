# StockEase Backend Documentation

**Published at:** https://Keglev.github.io/stockease/

## ğŸ—ï¸ Documentation Architecture

This folder (`/backend/docs/`) contains **source documentation that lives in the `main` branch**. 

### Key Principle
- **`/backend/docs/` in main branch**: Source Markdown files (architecture docs, design decisions)
  - âœ… Committed to main branch
  - âœ… NOT deployed to Koyeb (documentation only)
  - âœ… Always part of the repository

- **`docs` branch**: Generated HTML output ONLY
  - âœ… Created by docs-ci.yml pipeline
  - âœ… Published to GitHub Pages
  - âŒ Never edited manually

## ğŸ”„ Pipeline Flow

```
1. Developer pushes to origin/main (includes changes to /backend/docs/)
   â†“
2. Backend CI runs (build, test)
   â†“
3. Docs pipeline triggered (docs-ci.yml)
   - Extract OpenAPI spec from @Operation annotations
   - Convert Markdown â†’ HTML (using pandoc or similar)
   - Generate Redoc interactive API docs
   - Collect JaCoCo test coverage reports
   â†“
4. Generated HTML files committed to docs branch
   â†“
5. GitHub Pages publishes from docs branch
   â†“
6. Live at https://Keglev.github.io/stockease/
```

## ğŸ“ Directory Structure

### Main Branch (Source Files)
```
/backend/docs/                    â† These files: STAY in main branch
â”œâ”€â”€ index.md                      â† This file: documentation guide
â”œâ”€â”€ architecture/                 â† System design decisions
â”‚   â”œâ”€â”€ overview.md              â† Architecture overview, C4 model
â”‚   â”œâ”€â”€ layers.md                â† Service layers, data flow
â”‚   â”œâ”€â”€ security.md              â† Authentication, authorization
â”‚   â””â”€â”€ deployment.md            â† Infrastructure, CI/CD, monitoring
â””â”€â”€ api/
    â”œâ”€â”€ openapi/                 â† OpenAPI spec location
    â””â”€â”€ redoc/                   â† Redoc HTML location
```

### Docs Branch (Generated - GitHub Pages)
```
docs branch (GitHub Pages output)  â† Generated by CI, NOT edited manually
â”œâ”€â”€ index.html
â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ overview.html
â”‚   â”œâ”€â”€ layers.html
â”‚   â”œâ”€â”€ security.html
â”‚   â””â”€â”€ deployment.html
â”œâ”€â”€ api/
â”‚   â””â”€â”€ redoc/
â”‚       â””â”€â”€ index.html
â””â”€â”€ coverage/
    â””â”€â”€ index.html
```

## ğŸ› ï¸ How to Contribute

1. **Edit .md files** in `/backend/docs/` on `main` branch
2. **Add @Operation annotations** to controllers (OpenAPI spec generation)
3. **Push to main** â†’ docs-ci.yml pipeline automatically:
   - Converts Markdown to HTML
   - Generates Redoc API docs
   - Collects coverage reports
   - Commits to docs branch
4. **View live** at https://Keglev.github.io/stockease/

## ğŸ“š Sections

- **[Architecture](./architecture/)** â€” System design, decisions, deployment
- **[API](./api/)** â€” OpenAPI spec and interactive Redoc documentation
- **[Coverage](./coverage/)** â€” JaCoCo test coverage reports

---

**Branch:** main  
**Deployment:** docs-ci.yml pipeline  
**Access:** https://Keglev.github.io/stockease/
