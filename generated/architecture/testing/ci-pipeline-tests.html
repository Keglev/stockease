<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ci-pipeline-tests</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#ci-pipeline-tests" id="toc-ci-pipeline-tests">CI Pipeline
Tests</a>
<ul>
<li><a href="#table-of-contents" id="toc-table-of-contents">Table of
Contents</a></li>
<li><a href="#ci-pipeline-overview" id="toc-ci-pipeline-overview">CI
Pipeline Overview</a>
<ul>
<li><a href="#current-setup-proposed"
id="toc-current-setup-proposed">Current Setup (Proposed)</a></li>
<li><a href="#test-execution-timeline"
id="toc-test-execution-timeline">Test Execution Timeline</a></li>
</ul></li>
<li><a href="#test-execution-stages" id="toc-test-execution-stages">Test
Execution Stages</a>
<ul>
<li><a href="#stage-1-compilation" id="toc-stage-1-compilation">Stage 1:
Compilation</a></li>
<li><a href="#stage-2-unit-slice-tests"
id="toc-stage-2-unit-slice-tests">Stage 2: Unit &amp; Slice
Tests</a></li>
<li><a href="#stage-3-coverage-report"
id="toc-stage-3-coverage-report">Stage 3: Coverage Report</a></li>
<li><a href="#stage-4-code-quality-check"
id="toc-stage-4-code-quality-check">Stage 4: Code Quality Check</a></li>
</ul></li>
<li><a href="#quality-gates" id="toc-quality-gates">Quality Gates</a>
<ul>
<li><a href="#gate-1-build-must-succeed"
id="toc-gate-1-build-must-succeed">Gate 1: Build Must Succeed</a></li>
<li><a href="#gate-2-all-tests-must-pass"
id="toc-gate-2-all-tests-must-pass">Gate 2: All Tests Must Pass</a></li>
<li><a href="#gate-3-coverage-minimum-optional"
id="toc-gate-3-coverage-minimum-optional">Gate 3: Coverage Minimum
(Optional)</a></li>
<li><a href="#gate-4-code-quality-optional"
id="toc-gate-4-code-quality-optional">Gate 4: Code Quality
(Optional)</a></li>
</ul></li>
<li><a href="#failure-handling" id="toc-failure-handling">Failure
Handling</a>
<ul>
<li><a href="#scenario-1-test-fails-in-ci"
id="toc-scenario-1-test-fails-in-ci">Scenario 1: Test Fails in
CI</a></li>
<li><a href="#scenario-2-coverage-drops"
id="toc-scenario-2-coverage-drops">Scenario 2: Coverage Drops</a></li>
<li><a href="#scenario-3-flaky-test"
id="toc-scenario-3-flaky-test">Scenario 3: Flaky Test</a></li>
</ul></li>
<li><a href="#artifacts-reports" id="toc-artifacts-reports">Artifacts
&amp; Reports</a>
<ul>
<li><a href="#test-reports" id="toc-test-reports">Test Reports</a></li>
<li><a href="#coverage-reports" id="toc-coverage-reports">Coverage
Reports</a></li>
</ul></li>
<li><a href="#build-status-badge" id="toc-build-status-badge">Build
Status Badge</a>
<ul>
<li><a href="#display-in-readme" id="toc-display-in-readme">Display in
README</a></li>
<li><a href="#links-to-reports" id="toc-links-to-reports">Links to
Reports</a></li>
</ul></li>
<li><a href="#typical-ci-workflow" id="toc-typical-ci-workflow">Typical
CI Workflow</a>
<ul>
<li><a href="#scenario-developer-pushes-new-feature"
id="toc-scenario-developer-pushes-new-feature">Scenario: Developer
Pushes New Feature</a></li>
</ul></li>
<li><a href="#performance-optimization"
id="toc-performance-optimization">Performance Optimization</a>
<ul>
<li><a href="#current-performance" id="toc-current-performance">Current
Performance</a></li>
<li><a href="#optimization-options"
id="toc-optimization-options">Optimization Options</a></li>
</ul></li>
<li><a href="#debugging-ci-failures"
id="toc-debugging-ci-failures">Debugging CI Failures</a>
<ul>
<li><a href="#step-1-review-failure-log"
id="toc-step-1-review-failure-log">Step 1: Review Failure Log</a></li>
<li><a href="#step-2-reproduce-locally"
id="toc-step-2-reproduce-locally">Step 2: Reproduce Locally</a></li>
<li><a href="#step-3-check-ci-configuration"
id="toc-step-3-check-ci-configuration">Step 3: Check CI
Configuration</a></li>
<li><a href="#step-4-add-debug-output"
id="toc-step-4-add-debug-output">Step 4: Add Debug Output</a></li>
</ul></li>
<li><a href="#related-documentation"
id="toc-related-documentation">Related Documentation</a>
<ul>
<li><a href="#testing-fundamentals"
id="toc-testing-fundamentals">Testing Fundamentals</a></li>
<li><a href="#implementation"
id="toc-implementation">Implementation</a></li>
<li><a href="#architecture" id="toc-architecture">Architecture</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="ci-pipeline-tests">CI Pipeline Tests</h1>
<p><strong>Purpose</strong>: Document how tests are executed in GitHub
Actions CI/CD pipeline and what gates prevent merge failures.</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol type="1">
<li><a href="#ci-pipeline-overview">CI Pipeline Overview</a></li>
<li><a href="#test-execution-stages">Test Execution Stages</a></li>
<li><a href="#quality-gates">Quality Gates</a></li>
<li><a href="#failure-handling">Failure Handling</a></li>
<li><a href="#artifacts--reports">Artifacts &amp; Reports</a></li>
<li><a href="#related-documentation">Related Documentation</a></li>
</ol>
<hr />
<h2 id="ci-pipeline-overview">CI Pipeline Overview</h2>
<h3 id="current-setup-proposed">Current Setup (Proposed)</h3>
<p><strong>File</strong>:
<code>.github/workflows/ci-build.yml</code></p>
<pre><code>Push to main/PR
    ↓
Checkout code
    ↓
Setup JDK 17
    ↓
[GATE 1] Build
    mvn clean compile
    ↓ (fails → block merge)
    ↓
[GATE 2] Unit &amp; Slice Tests
    mvn test
    ↓ (fails → block merge)
    ↓
[GATE 3] Coverage Report
    mvn jacoco:report
    ↓ (coverage &lt; 70% → block merge)
    ↓
[GATE 4] Code Quality
    mvn spotbugs:check (lint)
    ↓ (errors → block merge)
    ↓
✅ SUCCESS - Auto-merge enabled
    ↓
Deploy to staging/prod</code></pre>
<h3 id="test-execution-timeline">Test Execution Timeline</h3>
<pre><code>Stage 1: Compilation    ~10 seconds (fast fail)
Stage 2: Tests          ~30 seconds (main wait)
Stage 3: Coverage       ~15 seconds
Stage 4: Code Quality   ~5 seconds
────────────────────────────
Total:                  ~60 seconds</code></pre>
<hr />
<h2 id="test-execution-stages">Test Execution Stages</h2>
<h3 id="stage-1-compilation">Stage 1: Compilation</h3>
<p><strong>Command</strong>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> clean compile</span></code></pre></div>
<p><strong>What it does</strong>: - Compiles source code - Catches
syntax errors early - Fails if Java/Spring version mismatches</p>
<p><strong>Output</strong>:</p>
<pre><code>[INFO] Compiling 15 source files
[INFO] BUILD SUCCESS</code></pre>
<p><strong>Fail Condition</strong>: Any Java syntax error</p>
<hr />
<h3 id="stage-2-unit-slice-tests">Stage 2: Unit &amp; Slice Tests</h3>
<p><strong>Command</strong>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> test</span></code></pre></div>
<p><strong>What it runs</strong>: - All 9 test classes - Generates JUnit
reports - ~65+ test methods (including parameterized variants)</p>
<p><strong>Test Categories Run</strong>:</p>
<pre><code>1. AuthControllerTest               (4 methods)
2. ProductControllerTest            (3-4 methods)
3. ProductCreateControllerTest       (3 methods)
4. ProductFetchControllerTest        (4-5 methods)
5. ProductUpdateControllerTest       (3 methods)
6. ProductDeleteControllerTest       (2 methods)
7. ProductPaginationControllerTest   (2 methods)
8. ProductInvalidUpdateControllerTest (1-2 methods)
9. StockEaseApplicationTests        (1 method)</code></pre>
<p><strong>Output</strong>:</p>
<pre><code>[INFO] -------------------------------------------------------
[INFO] T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.stocks.stockease.controller.AuthControllerTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] Running com.stocks.stockease.controller.ProductControllerTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0
...
[INFO] BUILD SUCCESS</code></pre>
<p><strong>Reports Generated</strong>: -
<code>backend/target/surefire-reports/*.xml</code> — JUnit XML -
<code>backend/target/surefire-reports/*.txt</code> — Test summary -
<code>backend/target/test-classes/</code> — Compiled tests</p>
<p><strong>Fail Condition</strong>: Any test fails or errors</p>
<hr />
<h3 id="stage-3-coverage-report">Stage 3: Coverage Report</h3>
<p><strong>Command</strong>:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> jacoco:report</span></code></pre></div>
<p><strong>What it does</strong>: - Instruments bytecode for coverage
measurement - Runs tests again (with coverage tracking) - Generates HTML
report - Calculates coverage percentages</p>
<p><strong>Output</strong>:</p>
<pre><code>[INFO] Jacoco Reports
[INFO] -------------------------------------------------------
[INFO] Class Coverage: 40% (4/10)
[INFO] Line Coverage: 65% (195/300)
[INFO] Branch Coverage: 55% (55/100)
[INFO] Method Coverage: 75% (30/40)
[INFO] Complexity Coverage: 60%
[INFO] BUILD SUCCESS</code></pre>
<p><strong>Reports Generated</strong>: -
<code>backend/target/site/jacoco/index.html</code> — Main report -
<code>backend/target/site/jacoco/com/stocks/stockease/controller/</code>
— Package details -
<code>backend/target/site/jacoco/StatusCode.xml</code> —
Machine-readable</p>
<p><strong>Fail Condition</strong>: Coverage &lt; configured minimum
(optional gate)</p>
<hr />
<h3 id="stage-4-code-quality-check">Stage 4: Code Quality Check</h3>
<p><strong>Command</strong> (proposed):</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> spotbugs:check  <span class="co"># or PMD, CheckStyle</span></span></code></pre></div>
<p><strong>What it does</strong> (when configured): - Scans for common
bugs - Checks code style violations - Flags security issues -
Performance problems</p>
<p><strong>Output</strong>:</p>
<pre><code>[INFO] SpotBugs check
[WARNING] High priority: Null pointer dereference in AuthController
[WARNING] Medium priority: Unclosed resource in ProductService
[INFO] BUILD SUCCESS</code></pre>
<p><strong>Fail Condition</strong>: High-priority issues found (depends
on configuration)</p>
<hr />
<h2 id="quality-gates">Quality Gates</h2>
<h3 id="gate-1-build-must-succeed">Gate 1: Build Must Succeed</h3>
<pre><code>Condition: No compilation errors
Success: ✅ Code compiles
Failure: ❌ Syntax error → BLOCK merge
Action: Fix Java/Spring errors</code></pre>
<h3 id="gate-2-all-tests-must-pass">Gate 2: All Tests Must Pass</h3>
<pre><code>Condition: All 9 test classes pass
Success: ✅ 0 failures, 0 errors
Failure: ❌ Any test fails → BLOCK merge
Action: Fix test/code issue</code></pre>
<h3 id="gate-3-coverage-minimum-optional">Gate 3: Coverage Minimum
(Optional)</h3>
<pre><code>Condition: Line coverage ≥ 70%
Success: ✅ Coverage = 72%
Failure: ❌ Coverage = 65% → REQUEST review
Action: Add tests for uncovered code</code></pre>
<h3 id="gate-4-code-quality-optional">Gate 4: Code Quality
(Optional)</h3>
<pre><code>Condition: No high-priority bugs
Success: ✅ 0 issues
Failure: ⚠️  1 issue → WARN but allow merge
Action: Fix or add suppression</code></pre>
<hr />
<h2 id="failure-handling">Failure Handling</h2>
<h3 id="scenario-1-test-fails-in-ci">Scenario 1: Test Fails in CI</h3>
<pre><code>User pushes code to PR
    ↓
CI runs: mvn test
    ↓
❌ FAILURE: ProductControllerTest.testGetProductsEmpty
    │        Expected 0 items, got 1
    ↓
GitHub marks PR as ❌ FAILED
    ↓
PR cannot be merged until fixed
    ↓
User must:
1. View failure details in GitHub Actions
2. Fix code or test
3. Push fix to same PR
4. CI re-runs automatically
5. When all pass, PR can merge</code></pre>
<h3 id="scenario-2-coverage-drops">Scenario 2: Coverage Drops</h3>
<pre><code>Previous build: 72% coverage (PASS)
New build: 68% coverage (FAIL if gate active)
    ↓
CI logs warning:
  &quot;Coverage dropped from 72% to 68%&quot;
  &quot;New test needed for: ProductService.validatePrice()&quot;
    ↓
Options:
- Add test to increase coverage back to 72%
- Request review if acceptable drop
- Adjust threshold if rate-limited</code></pre>
<h3 id="scenario-3-flaky-test">Scenario 3: Flaky Test</h3>
<pre><code>Test sometimes passes, sometimes fails
    ↓
CI output: FAILURE on attempt 1
    ↓
Actions:
- Review test for timing issues (sleep, race conditions)
- Use @BeforeEach to reset state properly
- Mock external dependencies consistently
- Increase retry count if infrastructure issue</code></pre>
<hr />
<h2 id="artifacts-reports">Artifacts &amp; Reports</h2>
<h3 id="test-reports">Test Reports</h3>
<p><strong>Location</strong>:
<code>backend/target/surefire-reports/</code></p>
<pre><code>TEST-com.stocks.stockease.controller.AuthControllerTest.xml
TEST-com.stocks.stockease.controller.ProductControllerTest.xml
TEST-com.stocks.stockease.controller.ProductCreateControllerTest.xml
...
com.stocks.stockease.controller.AuthControllerTest.txt
com.stocks.stockease.controller.ProductControllerTest.txt
...</code></pre>
<p><strong>Upload to Artifacts</strong>:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .github/workflows/ci-build.yml</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Upload test reports</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/upload-artifact@v3</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">if</span><span class="kw">:</span><span class="at"> always()</span><span class="co">  # Always upload, even if tests fail</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> test-reports</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> backend/target/surefire-reports/</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">retention-days</span><span class="kw">:</span><span class="at"> </span><span class="dv">30</span></span></code></pre></div>
<p><strong>View in GitHub</strong>: 1. Go to Actions → Recent run 2.
Scroll to Artifacts section 3. Download <code>test-reports.zip</code> 4.
Open XML or txt files</p>
<h3 id="coverage-reports">Coverage Reports</h3>
<p><strong>Location</strong>:
<code>backend/target/site/jacoco/</code></p>
<pre><code>index.html
com/stocks/stockease/controller/
  AuthController.java.html
  ProductController.java.html
  ...</code></pre>
<p><strong>Upload to Artifacts</strong>:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Upload coverage report</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/upload-artifact@v3</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">if</span><span class="kw">:</span><span class="at"> always()</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> coverage-report</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> backend/target/site/jacoco/</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">retention-days</span><span class="kw">:</span><span class="at"> </span><span class="dv">30</span></span></code></pre></div>
<p><strong>Publish to GitHub Pages</strong>:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Deploy coverage to Pages</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/upload-pages-artifact@v2</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> backend/target/site/jacoco/</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Result: </span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># https://keglev.github.io/stockease/coverage/</span></span></code></pre></div>
<hr />
<h2 id="build-status-badge">Build Status Badge</h2>
<h3 id="display-in-readme">Display in README</h3>
<div class="sourceCode" id="cb24"><pre
class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="al">![Build Status](https://github.com/keglev/stockease/workflows/CI/badge.svg)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="al">![Coverage](https://img.shields.io/badge/coverage-72%25-yellow)</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="al">![Tests](https://img.shields.io/badge/tests-65%2B-blue)</span></span></code></pre></div>
<h3 id="links-to-reports">Links to Reports</h3>
<div class="sourceCode" id="cb25"><pre
class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Test Results</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Latest Build</span><span class="co">](https://github.com/keglev/stockease/actions)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Coverage Report</span><span class="co">](https://keglev.github.io/stockease/coverage/)</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Test Logs</span><span class="co">](https://github.com/keglev/stockease/actions/workflows/ci-build.yml)</span></span></code></pre></div>
<hr />
<h2 id="typical-ci-workflow">Typical CI Workflow</h2>
<h3 id="scenario-developer-pushes-new-feature">Scenario: Developer
Pushes New Feature</h3>
<pre><code>1. Developer commits ProductCreateControllerTest changes
2. Pushes to branch: feature/admin-create-product
3. Creates PR → Runs CI

GitHub Actions Workflow:
├─ Checkout code
├─ Setup JDK 17
├─ mvn clean compile          ✅ Pass
├─ mvn test                   ✅ Pass (9 classes)
├─ mvn jacoco:report          ✅ Pass (72% coverage)
├─ mvn spotbugs:check         ✅ Pass (no issues)
└─ ✅ SUCCESS

GitHub UI:
├─ PR shows ✅ All checks passed
├─ Green checkmark on PR
├─ &quot;Merge pull request&quot; button enabled
└─ Maintainer can click to merge

After Merge:
├─ CI runs again on main branch
├─ All checks pass
├─ Auto-deploys to staging (if configured)
└─ Feature live on main</code></pre>
<hr />
<h2 id="performance-optimization">Performance Optimization</h2>
<h3 id="current-performance">Current Performance</h3>
<pre><code>Compilation:     ~10 seconds
Tests:           ~30 seconds  (bottleneck)
Coverage:        ~15 seconds
Quality:         ~5 seconds
────────────────────────────
Total:           ~60 seconds</code></pre>
<h3 id="optimization-options">Optimization Options</h3>
<table>
<thead>
<tr class="header">
<th>Optimization</th>
<th>Impact</th>
<th>Complexity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Parallel test execution</td>
<td>Save 10-15 sec</td>
<td>Medium</td>
</tr>
<tr class="even">
<td>Test caching</td>
<td>Save 5-10 sec</td>
<td>High</td>
</tr>
<tr class="odd">
<td>Smaller Docker images</td>
<td>Save 5 sec</td>
<td>Low</td>
</tr>
<tr class="even">
<td>Split CI into sub-jobs</td>
<td>Psychological</td>
<td>High</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="debugging-ci-failures">Debugging CI Failures</h2>
<h3 id="step-1-review-failure-log">Step 1: Review Failure Log</h3>
<pre><code>1. Go to Actions → Recent run
2. Click failed job
3. Expand test output
4. Find [ERROR] or [FAILED] lines
5. Note exact failure message</code></pre>
<h3 id="step-2-reproduce-locally">Step 2: Reproduce Locally</h3>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On your machine:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> backend</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">mvn</span> clean test</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># If it passes locally but fails in CI:</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - Different JDK version (use jdk-17 in CI)</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># - Different environment variables</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># - Timing/race condition (flaky test)</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># - File permission issue</span></span></code></pre></div>
<h3 id="step-3-check-ci-configuration">Step 3: Check CI
Configuration</h3>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Review .github/workflows/ci-build.yml:</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - JDK version matches local</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - Maven version specified</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - Test timeout settings</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - Environment variables set</span></span></code></pre></div>
<h3 id="step-4-add-debug-output">Step 4: Add Debug Output</h3>
<div class="sourceCode" id="cb31"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Add logging in test</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">testFailing</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;DEBUG: Starting test&quot;</span><span class="op">);</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;DEBUG: Product = &quot;</span> <span class="op">+</span> product<span class="op">);</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>result<span class="op">).</span><span class="fu">isEqualTo</span><span class="op">(</span>expected<span class="op">);</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">// Re-run and check CI logs</span></span></code></pre></div>
<hr />
<h2 id="related-documentation">Related Documentation</h2>
<h3 id="testing-fundamentals">Testing Fundamentals</h3>
<ul>
<li><strong><a href="./strategy.md">Testing Strategy</a></strong> — CI
scope and philosophy</li>
<li><strong><a href="./coverage-and-quality.md">Coverage &amp;
Quality</a></strong> — JaCoCo in CI</li>
<li><strong><a href="./pyramid.md">Test Pyramid</a></strong> — Test
distribution</li>
</ul>
<h3 id="implementation">Implementation</h3>
<ul>
<li><strong><a href="./spring-slices.md">Spring Slices</a></strong> —
Tests run in CI</li>
<li><strong><a href="./controller-integration.md">Controller Integration
Tests</a></strong> — HTTP tests</li>
</ul>
<h3 id="architecture">Architecture</h3>
<ul>
<li><strong><a href="../testing-architecture.md">Testing
Architecture</a></strong> — Entry point</li>
<li><strong><a href="../deployment.md">Deployment</a></strong> — CI/CD
pipeline details</li>
<li><strong><a href="../backend.md">Backend Architecture</a></strong> —
Code being tested</li>
</ul>
<hr />
<p><strong>Last Updated</strong>: October 31, 2025<br />
<strong>Version</strong>: 1.0<br />
<strong>Status</strong>: ✅ Proposal ready for implementation</p>
<p><a href="../testing-architecture.md">Back to Testing Index</a></p>
</body>
</html>
